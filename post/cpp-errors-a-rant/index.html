<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<title>c&#43;&#43; errors... a rant</title>
<meta name="description" 
      content=""
>

  




<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link
  rel="alternate"
  type="application/rss+xml"
  href="https://kihlander.net/index.xml"
  title="What could possibly go wrong?"
/>

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="c&#43;&#43; errors... a rant">
  <meta name="twitter:description" content="Today a small rant… with a bit of an unexpected conclusion!
In the beginning someone decided to use std::variant. This has made a lot of people very angry and been widely regarded as a bad move.
So at work this week I had to look at code written with std::variant… a lot can be said about std::variant but this time it is about compile errors!
Someone had decided to use an std::variant&lt;x, y, z&gt;, probably got a really bad error-message when they tried to extract a value out of it with the type w, i.e. a type that is not part of the variant. Something like this, but simplified.">



<link rel="stylesheet" href="https://kihlander.net/fontawesome/css/all.min.css" />




<link
  crossorigin="anonymous"
  href="/css/styles.min.css"
  integrity=""
  rel="preload stylesheet"
  as="style"
/>




<link
  id="dark-mode-theme"
  crossorigin="anonymous"
  href="/css/dark.min.css"
  integrity=""
  rel="preload stylesheet"
  as="style"
/>


<script>
  var darkTheme = document.getElementById('dark-mode-theme')
  var storedTheme = localStorage.getItem('dark-mode-storage')

  if (storedTheme === 'dark') {
    darkTheme.disabled = false
  } else if (storedTheme === 'light') {
    darkTheme.disabled = true
  }
</script>


<script defer crossorigin="anonymous" src="/js/theme.js" integrity=""></script>


<script defer crossorigin="anonymous" src="/js/instantpage.min.js" integrity=""></script><meta name="generator" content="Hugo 0.143.1">
  </head>
  <body>
    
  




  <header>
    <nav class="navbar">
  <div class="nav">
    
      <a href="https://kihlander.net/" class="nav-logo">
        <img
          src="https://kihlander.net/images/logo.png"
          width="50"
          height="50"
          alt="Logo"
        />
      </a>
    

    <ul class="nav-links">
      
        
          <li>
            <a href="/about/" id="About"
              ><em class="fas fa-user fa-lg"></em
            ></a>
          </li>
          
      
        
          <li>
            <a href="/tags" id="Tags"
              ><em class="fas fa-tag fa-lg"></em
            ></a>
          </li>
          
      
        
          <li>
            <a href="/search" id="Search"
              ><em class="fas fa-search fa-lg"></em
            ></a>
          </li>
          
      
        
          <li>
            <a href="/archives" id="Archives"
              ><em class="fas fa-archive fa-lg"></em
            ></a>
          </li>
          
      
    </ul>
  </div>
</nav>

    <div class="intro-header">
      <div class="container">
        <div class="post-heading">
          
            <h1>
              c&#43;&#43; errors... a rant
            </h1>
          
          
            <span class="meta-post">
  <em class="fa fa-calendar-alt"></em
  >&nbsp;Feb 15, 2025
  
</span>

          
        </div>
      </div>
    </div>
  </header>
  

    
  <div class="container" role="main">
    <article class="article" class="blog-post">
      
  <p>Today a small rant&hellip; with a bit of an unexpected conclusion!</p>
<blockquote>
<p>In the beginning someone decided to use <code>std::variant</code>. This has made a lot of people very angry and been widely regarded as a bad move.</p></blockquote>
<p>So at work this week I had to look at code written with <code>std::variant</code>&hellip; a lot can be said about <code>std::variant</code> but this time it is about compile errors!</p>
<p>Someone had decided to use an <code>std::variant&lt;x, y, z&gt;</code>, probably got a really bad error-message when they tried to extract a value out of it with the type <code>w</code>, i.e. a type that is not part of the variant. Something like this, but simplified.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;variant&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">using</span> test <span style="color:#f92672">=</span> std<span style="color:#f92672">::</span>variant<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">float</span><span style="color:#f92672">&gt;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">template</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> get_it(test<span style="color:#f92672">&amp;</span> t)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// ... yes, highly unsafe, but only here to show the error ...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#f92672">*</span>std<span style="color:#f92672">::</span>get_if<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span>(<span style="color:#f92672">&amp;</span>t);
</span></span><span style="display:flex;"><span>    (<span style="color:#66d9ef">void</span>)i;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">use_it</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    test t <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    get_it<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">double</span><span style="color:#f92672">&gt;</span>(t);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Observe that the type being requested is not present in the variant, hence the code is invalid. So what do clang and gcc spit out (don&rsquo;t have msvc at home but we&rsquo;ll get to that later).</p>
<p>clang 14.0.0-1ubuntu1.1</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>wc-duck@WcLaptop:~/kod/varianttest$ clang++ -std<span style="color:#f92672">=</span>c++17 varianttest.cpp -o test
</span></span><span style="display:flex;"><span>In file included from varianttest.cpp:35:
</span></span><span style="display:flex;"><span>/usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/variant:1185:7: error: static_assert failed due to requirement <span style="color:#e6db74">&#39;__detail::__variant::__exactly_once&lt;double, int, float&gt;&#39;</span> <span style="color:#e6db74">&#34;T must occur exactly once in alternatives&#34;</span>
</span></span><span style="display:flex;"><span>      static_assert<span style="color:#f92672">(</span>__detail::__variant::__exactly_once&lt;_Tp, _Types...&gt;,
</span></span><span style="display:flex;"><span>      ^             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
</span></span><span style="display:flex;"><span>varianttest.cpp:43:19: note: in instantiation of <span style="color:#66d9ef">function</span> template specialization <span style="color:#e6db74">&#39;std::get_if&lt;double, int, float&gt;&#39;</span> requested here
</span></span><span style="display:flex;"><span>    int i <span style="color:#f92672">=</span> *std::get_if&lt;T&gt;<span style="color:#f92672">(</span>&amp;t<span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>                  ^
</span></span><span style="display:flex;"><span>varianttest.cpp:50:5: note: in instantiation of <span style="color:#66d9ef">function</span> template specialization <span style="color:#e6db74">&#39;get_it&lt;double&gt;&#39;</span> requested here
</span></span><span style="display:flex;"><span>    get_it&lt;double&gt;<span style="color:#f92672">(</span>t<span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>    ^
</span></span><span style="display:flex;"><span>In file included from varianttest.cpp:35:
</span></span><span style="display:flex;"><span>/usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/variant:104:7: error: implicit instantiation of undefined template <span style="color:#e6db74">&#39;std::variant_alternative&lt;0, std::variant&lt;&gt;&gt;&#39;</span>
</span></span><span style="display:flex;"><span>    : variant_alternative&lt;_Np-1, variant&lt;_Rest...&gt;&gt; <span style="color:#f92672">{}</span>;
</span></span><span style="display:flex;"><span>      ^
</span></span><span style="display:flex;"><span>/usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/variant:104:7: note: in instantiation of template class <span style="color:#e6db74">&#39;std::variant_alternative&lt;1, std::variant&lt;float&gt;&gt;&#39;</span> requested here
</span></span><span style="display:flex;"><span>/usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/variant:111:5: note: in instantiation of template class <span style="color:#e6db74">&#39;std::variant_alternative&lt;2, std::variant&lt;int, float&gt;&gt;&#39;</span> requested here
</span></span><span style="display:flex;"><span>    using variant_alternative_t <span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>    ^
</span></span><span style="display:flex;"><span>/usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/variant:1155:29: note: in instantiation of template type alias <span style="color:#e6db74">&#39;variant_alternative_t&#39;</span> requested here
</span></span><span style="display:flex;"><span>    constexpr add_pointer_t&lt;variant_alternative_t&lt;_Np, variant&lt;_Types...&gt;&gt;&gt;
</span></span><span style="display:flex;"><span>                            ^
</span></span><span style="display:flex;"><span>/usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/variant:1188:14: note: <span style="color:#66d9ef">while</span> substituting deduced template arguments into <span style="color:#66d9ef">function</span> template <span style="color:#e6db74">&#39;get_if&#39;</span> <span style="color:#f92672">[</span>with _Np <span style="color:#f92672">=</span> 2, _Types <span style="color:#f92672">=</span> &lt;int, float&gt;<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> std::get_if&lt;__detail::__variant::__index_of_v&lt;_Tp, _Types...&gt;&gt;<span style="color:#f92672">(</span>
</span></span><span style="display:flex;"><span>             ^
</span></span><span style="display:flex;"><span>varianttest.cpp:43:19: note: in instantiation of <span style="color:#66d9ef">function</span> template specialization <span style="color:#e6db74">&#39;std::get_if&lt;double, int, float&gt;&#39;</span> requested here
</span></span><span style="display:flex;"><span>    int i <span style="color:#f92672">=</span> *std::get_if&lt;T&gt;<span style="color:#f92672">(</span>&amp;t<span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>                  ^
</span></span><span style="display:flex;"><span>varianttest.cpp:50:5: note: in instantiation of <span style="color:#66d9ef">function</span> template specialization <span style="color:#e6db74">&#39;get_it&lt;double&gt;&#39;</span> requested here
</span></span><span style="display:flex;"><span>    get_it&lt;double&gt;<span style="color:#f92672">(</span>t<span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>    ^
</span></span><span style="display:flex;"><span>/usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/variant:100:12: note: template is declared here
</span></span><span style="display:flex;"><span>    struct variant_alternative;
</span></span><span style="display:flex;"><span>           ^
</span></span><span style="display:flex;"><span>/usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/variant:1188:14: error: no matching <span style="color:#66d9ef">function</span> <span style="color:#66d9ef">for</span> call to <span style="color:#e6db74">&#39;get_if&#39;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> std::get_if&lt;__detail::__variant::__index_of_v&lt;_Tp, _Types...&gt;&gt;<span style="color:#f92672">(</span>
</span></span><span style="display:flex;"><span>             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
</span></span><span style="display:flex;"><span>varianttest.cpp:43:19: note: in instantiation of <span style="color:#66d9ef">function</span> template specialization <span style="color:#e6db74">&#39;std::get_if&lt;double, int, float&gt;&#39;</span> requested here
</span></span><span style="display:flex;"><span>    int i <span style="color:#f92672">=</span> *std::get_if&lt;T&gt;<span style="color:#f92672">(</span>&amp;t<span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>                  ^
</span></span><span style="display:flex;"><span>varianttest.cpp:50:5: note: in instantiation of <span style="color:#66d9ef">function</span> template specialization <span style="color:#e6db74">&#39;get_it&lt;double&gt;&#39;</span> requested here
</span></span><span style="display:flex;"><span>    get_it&lt;double&gt;<span style="color:#f92672">(</span>t<span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>    ^
</span></span><span style="display:flex;"><span>/usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/variant:1156:5: note: candidate template ignored: substitution failure <span style="color:#f92672">[</span>with _Np <span style="color:#f92672">=</span> 2, _Types <span style="color:#f92672">=</span> &lt;int, float&gt;<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>    get_if<span style="color:#f92672">(</span>variant&lt;_Types...&gt;* __ptr<span style="color:#f92672">)</span> noexcept
</span></span><span style="display:flex;"><span>    ^
</span></span><span style="display:flex;"><span>/usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/variant:1170:5: note: candidate template ignored: substitution failure <span style="color:#f92672">[</span>with _Np <span style="color:#f92672">=</span> 2, _Types <span style="color:#f92672">=</span> &lt;int, float&gt;<span style="color:#f92672">]</span>: no type named <span style="color:#e6db74">&#39;type&#39;</span> in <span style="color:#e6db74">&#39;std::variant_alternative&lt;2, std::variant&lt;int, float&gt;&gt;&#39;</span>
</span></span><span style="display:flex;"><span>    get_if<span style="color:#f92672">(</span>const variant&lt;_Types...&gt;* __ptr<span style="color:#f92672">)</span> noexcept
</span></span><span style="display:flex;"><span>    ^
</span></span><span style="display:flex;"><span>/usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/variant:1183:5: note: candidate template ignored: invalid explicitly-specified argument <span style="color:#66d9ef">for</span> template parameter <span style="color:#e6db74">&#39;_Tp&#39;</span>
</span></span><span style="display:flex;"><span>    get_if<span style="color:#f92672">(</span>variant&lt;_Types...&gt;* __ptr<span style="color:#f92672">)</span> noexcept
</span></span><span style="display:flex;"><span>    ^
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span> errors generated.
</span></span></code></pre></div><p>g++ (Ubuntu 11.4.0-1ubuntu1~22.04) 11.4.0</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>wc-duck@WcLaptop:~/kod/varianttest$ g++ -std<span style="color:#f92672">=</span>c++17 varianttest.cpp -o test
</span></span><span style="display:flex;"><span>In file included from varianttest.cpp:35:
</span></span><span style="display:flex;"><span>/usr/include/c++/11/variant: In instantiation of ‘constexpr std::add_pointer_t&lt;_Tp&gt; std::get_if<span style="color:#f92672">(</span>std::variant&lt;_Types ...&gt;*<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>with _Tp <span style="color:#f92672">=</span> double; _Types <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>int, float<span style="color:#f92672">}</span>; std::add_pointer_t&lt;_Tp&gt; <span style="color:#f92672">=</span> double*<span style="color:#f92672">]</span>’:
</span></span><span style="display:flex;"><span>varianttest.cpp:43:28:   required from ‘void get_it<span style="color:#f92672">(</span>test&amp;<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>with T <span style="color:#f92672">=</span> double; test <span style="color:#f92672">=</span> std::variant&lt;int, float&gt;<span style="color:#f92672">]</span>’
</span></span><span style="display:flex;"><span>varianttest.cpp:50:19:   required from here
</span></span><span style="display:flex;"><span>/usr/include/c++/11/variant:1185:42: error: static assertion failed: T must occur exactly once in alternatives
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">1185</span> |       static_assert<span style="color:#f92672">(</span>__detail::__variant::__exactly_once&lt;_Tp, _Types...&gt;,
</span></span><span style="display:flex;"><span>      |                     ~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
</span></span><span style="display:flex;"><span>/usr/include/c++/11/variant:1185:42: note: ‘std::__detail::__variant::__exactly_once&lt;double, int, float&gt;’ evaluates to false
</span></span><span style="display:flex;"><span>/usr/include/c++/11/variant: In instantiation of ‘struct std::variant_alternative&lt;1, std::variant&lt;float&gt; &gt;’:
</span></span><span style="display:flex;"><span>/usr/include/c++/11/variant:103:12:   required from ‘struct std::variant_alternative&lt;2, std::variant&lt;int, float&gt; &gt;’
</span></span><span style="display:flex;"><span>/usr/include/c++/11/variant:1170:5:   required by substitution of ‘template&lt;long unsigned int _Np, class ... _Types&gt; constexpr std::add_pointer_t&lt;const typename std::variant_alternative&lt;_Np, std::variant&lt;_Types ...&gt; &gt;::type&gt; std::get_if<span style="color:#f92672">(</span>const std::variant&lt;_Types ...&gt;*<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>with long unsigned int _Np <span style="color:#f92672">=</span> 2; _Types <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>int, float<span style="color:#f92672">}]</span>’
</span></span><span style="display:flex;"><span>/usr/include/c++/11/variant:1188:76:   required from ‘constexpr std::add_pointer_t&lt;_Tp&gt; std::get_if<span style="color:#f92672">(</span>std::variant&lt;_Types ...&gt;*<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>with _Tp <span style="color:#f92672">=</span> double; _Types <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>int, float<span style="color:#f92672">}</span>; std::add_pointer_t&lt;_Tp&gt; <span style="color:#f92672">=</span> double*<span style="color:#f92672">]</span>’
</span></span><span style="display:flex;"><span>varianttest.cpp:43:28:   required from ‘void get_it<span style="color:#f92672">(</span>test&amp;<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>with T <span style="color:#f92672">=</span> double; test <span style="color:#f92672">=</span> std::variant&lt;int, float&gt;<span style="color:#f92672">]</span>’
</span></span><span style="display:flex;"><span>varianttest.cpp:50:19:   required from here
</span></span><span style="display:flex;"><span>/usr/include/c++/11/variant:103:12: error: invalid use of incomplete type ‘struct std::variant_alternative&lt;0, std::variant&lt;&gt; &gt;’
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">103</span> |     struct variant_alternative&lt;_Np, variant&lt;_First, _Rest...&gt;&gt;
</span></span><span style="display:flex;"><span>      |            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
</span></span><span style="display:flex;"><span>/usr/include/c++/11/variant:100:12: note: declaration of ‘struct std::variant_alternative&lt;0, std::variant&lt;&gt; &gt;’
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">100</span> |     struct variant_alternative;
</span></span><span style="display:flex;"><span>      |            ^~~~~~~~~~~~~~~~~~~
</span></span><span style="display:flex;"><span>/usr/include/c++/11/variant: In instantiation of ‘constexpr std::add_pointer_t&lt;_Tp&gt; std::get_if<span style="color:#f92672">(</span>std::variant&lt;_Types ...&gt;*<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>with _Tp <span style="color:#f92672">=</span> double; _Types <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>int, float<span style="color:#f92672">}</span>; std::add_pointer_t&lt;_Tp&gt; <span style="color:#f92672">=</span> double*<span style="color:#f92672">]</span>’:
</span></span><span style="display:flex;"><span>varianttest.cpp:43:28:   required from ‘void get_it<span style="color:#f92672">(</span>test&amp;<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>with T <span style="color:#f92672">=</span> double; test <span style="color:#f92672">=</span> std::variant&lt;int, float&gt;<span style="color:#f92672">]</span>’
</span></span><span style="display:flex;"><span>varianttest.cpp:50:19:   required from here
</span></span><span style="display:flex;"><span>/usr/include/c++/11/variant:1188:76: error: no matching <span style="color:#66d9ef">function</span> <span style="color:#66d9ef">for</span> call to ‘get_if&lt;std::__detail::__variant::__index_of_v&lt;double, int, float&gt; &gt;<span style="color:#f92672">(</span>std::variant&lt;int, float&gt;*&amp;<span style="color:#f92672">)</span>’
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">1188</span> |       <span style="color:#66d9ef">return</span> std::get_if&lt;__detail::__variant::__index_of_v&lt;_Tp, _Types...&gt;&gt;<span style="color:#f92672">(</span>
</span></span><span style="display:flex;"><span>      |              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">1189</span> |           __ptr<span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>      |           ~~~~~~                                                            
</span></span><span style="display:flex;"><span>/usr/include/c++/11/variant:1156:5: note: candidate: ‘template&lt;long unsigned int _Np, class ... _Types&gt; constexpr std::add_pointer_t&lt;typename std::variant_alternative&lt;_Np, std::variant&lt;_Types ...&gt; &gt;::type&gt; std::get_if<span style="color:#f92672">(</span>std::variant&lt;_Types ...&gt;*<span style="color:#f92672">)</span>’
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">1156</span> |     get_if<span style="color:#f92672">(</span>variant&lt;_Types...&gt;* __ptr<span style="color:#f92672">)</span> noexcept
</span></span><span style="display:flex;"><span>      |     ^~~~~~
</span></span><span style="display:flex;"><span>/usr/include/c++/11/variant:1156:5: note:   template argument deduction/substitution failed:
</span></span><span style="display:flex;"><span>/usr/include/c++/11/variant: In substitution of ‘template&lt;long unsigned int _Np, class ... _Types&gt; constexpr std::add_pointer_t&lt;typename std::variant_alternative&lt;_Np, std::variant&lt;_Types ...&gt; &gt;::type&gt; std::get_if<span style="color:#f92672">(</span>std::variant&lt;_Types ...&gt;*<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>with long unsigned int _Np <span style="color:#f92672">=</span> 2; _Types <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>int, float<span style="color:#f92672">}]</span>’:
</span></span><span style="display:flex;"><span>/usr/include/c++/11/variant:1188:76:   required from ‘constexpr std::add_pointer_t&lt;_Tp&gt; std::get_if<span style="color:#f92672">(</span>std::variant&lt;_Types ...&gt;*<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>with _Tp <span style="color:#f92672">=</span> double; _Types <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>int, float<span style="color:#f92672">}</span>; std::add_pointer_t&lt;_Tp&gt; <span style="color:#f92672">=</span> double*<span style="color:#f92672">]</span>’
</span></span><span style="display:flex;"><span>varianttest.cpp:43:28:   required from ‘void get_it<span style="color:#f92672">(</span>test&amp;<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>with T <span style="color:#f92672">=</span> double; test <span style="color:#f92672">=</span> std::variant&lt;int, float&gt;<span style="color:#f92672">]</span>’
</span></span><span style="display:flex;"><span>varianttest.cpp:50:19:   required from here
</span></span><span style="display:flex;"><span>/usr/include/c++/11/variant:1156:5: error: no type named ‘type’ in ‘struct std::variant_alternative&lt;2, std::variant&lt;int, float&gt; &gt;’
</span></span><span style="display:flex;"><span>/usr/include/c++/11/variant: In instantiation of ‘constexpr std::add_pointer_t&lt;_Tp&gt; std::get_if<span style="color:#f92672">(</span>std::variant&lt;_Types ...&gt;*<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>with _Tp <span style="color:#f92672">=</span> double; _Types <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>int, float<span style="color:#f92672">}</span>; std::add_pointer_t&lt;_Tp&gt; <span style="color:#f92672">=</span> double*<span style="color:#f92672">]</span>’:
</span></span><span style="display:flex;"><span>varianttest.cpp:43:28:   required from ‘void get_it<span style="color:#f92672">(</span>test&amp;<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>with T <span style="color:#f92672">=</span> double; test <span style="color:#f92672">=</span> std::variant&lt;int, float&gt;<span style="color:#f92672">]</span>’
</span></span><span style="display:flex;"><span>varianttest.cpp:50:19:   required from here
</span></span><span style="display:flex;"><span>/usr/include/c++/11/variant:1170:5: note: candidate: ‘template&lt;long unsigned int _Np, class ... _Types&gt; constexpr std::add_pointer_t&lt;const typename std::variant_alternative&lt;_Np, std::variant&lt;_Types ...&gt; &gt;::type&gt; std::get_if<span style="color:#f92672">(</span>const std::variant&lt;_Types ...&gt;*<span style="color:#f92672">)</span>’
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">1170</span> |     get_if<span style="color:#f92672">(</span>const variant&lt;_Types...&gt;* __ptr<span style="color:#f92672">)</span> noexcept
</span></span><span style="display:flex;"><span>      |     ^~~~~~
</span></span><span style="display:flex;"><span>/usr/include/c++/11/variant:1170:5: note:   substitution of deduced template arguments resulted in errors seen above
</span></span><span style="display:flex;"><span>/usr/include/c++/11/variant:1183:5: note: candidate: ‘template&lt;class _Tp, class ... _Types&gt; constexpr std::add_pointer_t&lt;_Tp&gt; std::get_if<span style="color:#f92672">(</span>std::variant&lt;_Types ...&gt;*<span style="color:#f92672">)</span>’
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">1183</span> |     get_if<span style="color:#f92672">(</span>variant&lt;_Types...&gt;* __ptr<span style="color:#f92672">)</span> noexcept
</span></span><span style="display:flex;"><span>      |     ^~~~~~
</span></span><span style="display:flex;"><span>/usr/include/c++/11/variant:1183:5: note:   template argument deduction/substitution failed:
</span></span><span style="display:flex;"><span>/usr/include/c++/11/variant:1188:76: error: type/value mismatch at argument <span style="color:#ae81ff">1</span> in template parameter list <span style="color:#66d9ef">for</span> ‘template&lt;class _Tp, class ... _Types&gt; constexpr std::add_pointer_t&lt;_Tp&gt; std::get_if<span style="color:#f92672">(</span>std::variant&lt;_Types ...&gt;*<span style="color:#f92672">)</span>’
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">1188</span> |       <span style="color:#66d9ef">return</span> std::get_if&lt;__detail::__variant::__index_of_v&lt;_Tp, _Types...&gt;&gt;<span style="color:#f92672">(</span>
</span></span><span style="display:flex;"><span>      |              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">1189</span> |           __ptr<span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>      |           ~~~~~~                                                            
</span></span><span style="display:flex;"><span>/usr/include/c++/11/variant:1188:76: note:   expected a type, got ‘std::__detail::__variant::__index_of_v&lt;double, int, float&gt;’
</span></span></code></pre></div><p>ARGH!!! Sure you can decipher it&hellip; but that is a wall of text if there ever was one!</p>
<p>So the poor developer that initially got this wall of &ldquo;characters&rdquo; thrown in their face, after what I expect is more time understanding the error than could be expected of a fellow human being, decided to add a static_assert&hellip; using boost (╯°□°)╯︵ ┻━┻ to make it simpler for the next user&hellip; something like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;variant&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">using</span> test <span style="color:#f92672">=</span> std<span style="color:#f92672">::</span>variant<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">float</span><span style="color:#f92672">&gt;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">template</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> get_it(test<span style="color:#f92672">&amp;</span> t)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static_assert</span>(boost<span style="color:#f92672">::</span>mpl<span style="color:#f92672">::</span>contains<span style="color:#f92672">&lt;</span>test, T<span style="color:#f92672">&gt;::</span>type<span style="color:#f92672">::</span>value, <span style="color:#e6db74">&#34;T isn&#39;t a valid my_variant type.&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#f92672">*</span>std<span style="color:#f92672">::</span>get_if<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span>(<span style="color:#f92672">&amp;</span>t);
</span></span><span style="display:flex;"><span>    (<span style="color:#66d9ef">void</span>)i;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">use_it</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    test t <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    get_it<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">double</span><span style="color:#f92672">&gt;</span>(t);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Now they get the same as above but at least it start with a clear error! But is this good&hellip; no! It is still a wall of text! So me and a coworker (that actually speak &ldquo;modern c++&rdquo;!?!) talked a bit about it&hellip; and after a bit of google came up with something like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;variant&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">using</span> test <span style="color:#f92672">=</span> std<span style="color:#f92672">::</span>variant<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">float</span><span style="color:#f92672">&gt;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> woot
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// https://stackoverflow.com/questions/2118541/check-if-parameter-pack-contains-a-type
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">template</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> What, <span style="color:#66d9ef">typename</span> ... Args<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">is_present</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">constexpr</span> <span style="color:#66d9ef">bool</span> value {(std<span style="color:#f92672">::</span>is_same_v<span style="color:#f92672">&lt;</span>What, Args<span style="color:#f92672">&gt;</span> <span style="color:#f92672">||</span> ...)};
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">template</span><span style="color:#f92672">&lt;</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">T</span>, <span style="color:#66d9ef">class</span><span style="color:#960050;background-color:#1e0010">... </span><span style="color:#a6e22e">Types</span> <span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">constexpr</span> std<span style="color:#f92672">::</span>add_pointer_t<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    get_if( std<span style="color:#f92672">::</span>variant<span style="color:#f92672">&lt;</span>Types...<span style="color:#f92672">&gt;*</span> pv ) <span style="color:#66d9ef">noexcept</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">constexpr</span> <span style="color:#66d9ef">bool</span> is_valid_type <span style="color:#f92672">=</span> is_present<span style="color:#f92672">&lt;</span>T, Types...<span style="color:#f92672">&gt;::</span>value;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">static_assert</span>(is_valid_type, <span style="color:#e6db74">&#34;type is not part of the specified variant or specified twice!&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">constexpr</span> (is_valid_type)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> std<span style="color:#f92672">::</span>get_if<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span>(pv);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nullptr</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">template</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> get_it(test<span style="color:#f92672">&amp;</span> t)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// int i = *std::get_if&lt;T&gt;(&amp;t);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#f92672">*</span>woot<span style="color:#f92672">::</span>get_if<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span>(<span style="color:#f92672">&amp;</span>t);
</span></span><span style="display:flex;"><span>    (<span style="color:#66d9ef">void</span>)i;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">use_it</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    test t <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    get_it<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">double</span><span style="color:#f92672">&gt;</span>(t);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>clang</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>wc-duck@WcLaptop:~/kod/varianttest$ clang++ -std<span style="color:#f92672">=</span>c++17 varianttest.cpp -o test
</span></span><span style="display:flex;"><span>varianttest.cpp:18:9: error: static_assert failed due to requirement <span style="color:#e6db74">&#39;is_valid_type&#39;</span> <span style="color:#e6db74">&#34;type is not part of the specified variant or specified twice!&#34;</span>
</span></span><span style="display:flex;"><span>        static_assert<span style="color:#f92672">(</span>is_valid_type, <span style="color:#e6db74">&#34;type is not part of the specified variant or specified twice!&#34;</span><span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>        ^             ~~~~~~~~~~~~~
</span></span><span style="display:flex;"><span>varianttest.cpp:30:20: note: in instantiation of <span style="color:#66d9ef">function</span> template specialization <span style="color:#e6db74">&#39;woot::get_if&lt;double, int, float&gt;&#39;</span> requested here
</span></span><span style="display:flex;"><span>    int i <span style="color:#f92672">=</span> *woot::get_if&lt;T&gt;<span style="color:#f92672">(</span>&amp;t<span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>                   ^
</span></span><span style="display:flex;"><span>varianttest.cpp:37:5: note: in instantiation of <span style="color:#66d9ef">function</span> template specialization <span style="color:#e6db74">&#39;get_it&lt;double&gt;&#39;</span> requested here
</span></span><span style="display:flex;"><span>    get_it&lt;double&gt;<span style="color:#f92672">(</span>t<span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>    ^
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span> error generated.
</span></span></code></pre></div><p>g++</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>wc-duck@WcLaptop:~/kod/varianttest$ g++ -std<span style="color:#f92672">=</span>c++17 varianttest.cpp -o test
</span></span><span style="display:flex;"><span>varianttest.cpp: In instantiation of ‘constexpr std::add_pointer_t&lt;_Tp&gt; woot::get_if<span style="color:#f92672">(</span>std::variant&lt;_Types ...&gt;*<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>with T <span style="color:#f92672">=</span> double; Types <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>int, float<span style="color:#f92672">}</span>; std::add_pointer_t&lt;_Tp&gt; <span style="color:#f92672">=</span> double*<span style="color:#f92672">]</span>’:
</span></span><span style="display:flex;"><span>varianttest.cpp:30:29:   required from ‘void get_it<span style="color:#f92672">(</span>test&amp;<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>with T <span style="color:#f92672">=</span> double; test <span style="color:#f92672">=</span> std::variant&lt;int, float&gt;<span style="color:#f92672">]</span>’
</span></span><span style="display:flex;"><span>varianttest.cpp:37:19:   required from here
</span></span><span style="display:flex;"><span>varianttest.cpp:18:23: error: static assertion failed: type is not part of the specified variant or specified twice!
</span></span><span style="display:flex;"><span>   <span style="color:#ae81ff">18</span> |         static_assert<span style="color:#f92672">(</span>is_valid_type, <span style="color:#e6db74">&#34;type is not part of the specified variant or specified twice!&#34;</span><span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>      |                       ^~~~~~~~~~~~~
</span></span><span style="display:flex;"><span>varianttest.cpp:18:23: note: ‘is_valid_type’ evaluates to false
</span></span></code></pre></div><p>A little code&hellip; a 1000% better error message! So what is the end of this story? I don&rsquo;t want to cast shadow on the previous developer, and neither do I think that the above is a &ldquo;neat&rdquo; or &ldquo;good&rdquo; solution, the actual conclusion is WTF can&rsquo;t I get this error-message from the standard libraries themself? Someone must, during development of the libs, have seen this wall of text but at no step of the way stopped and thought &ldquo;well, this is kind of iffy? Me as an actual implementor of a standard library, i.e. an expert in the field, should be able to do better!&rdquo;.
If it is this &ldquo;easy&rdquo; to give us better error-messages WHY NOT DO IT&hellip; from the beginning? How many more &ldquo;walls of text&rdquo; could we avoid with a few static_asserts?</p>
<p>Would there be a downside? I don&rsquo;t know, maybe there is, but this kind of stuff is one of the reasons c++ is really hard to work with from time to time and that people like me rather go with a &ldquo;c style&rdquo; codebase!</p>
<p>Here is a <a href="https://godbolt.org/z/fo6MsvGjq">godbolt link</a> if you want to test it yourself.</p>
<p>BTW&hellip; in the beginning I told you that there was an unexpected twist to this. The latest MSVC actually give you this error (from godbolt!)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>example.cpp
</span></span><span style="display:flex;"><span>Z:/compilers/msvc/14.41.33923-14.41.33923.0/include<span style="color:#ae81ff">\v</span>ariant<span style="color:#f92672">(</span>1257<span style="color:#f92672">)</span>: error C2338: static_assert failed: <span style="color:#e6db74">&#39;get_if&lt;T&gt;(variant&lt;Types...&gt; *) requires T to occur exactly once in Types. (N4971 [variant.get]/12)&#39;</span>
</span></span><span style="display:flex;"><span>Z:/compilers/msvc/14.41.33923-14.41.33923.0/include<span style="color:#ae81ff">\v</span>ariant<span style="color:#f92672">(</span>1257<span style="color:#f92672">)</span>: note: the template instantiation context <span style="color:#f92672">(</span>the oldest one first<span style="color:#f92672">)</span> is
</span></span><span style="display:flex;"><span>&lt;source&gt;<span style="color:#f92672">(</span>37<span style="color:#f92672">)</span>: note: see reference to <span style="color:#66d9ef">function</span> template instantiation <span style="color:#e6db74">&#39;void get_it&lt;double&gt;(test &amp;)&#39;</span> being compiled
</span></span><span style="display:flex;"><span>&lt;source&gt;<span style="color:#f92672">(</span>29<span style="color:#f92672">)</span>: note: see reference to <span style="color:#66d9ef">function</span> template instantiation <span style="color:#e6db74">&#39;double *std::get_if&lt;T,int,float&gt;(std::variant&lt;int,float&gt; *) noexcept&#39;</span> being compiled
</span></span><span style="display:flex;"><span>        with
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">[</span>
</span></span><span style="display:flex;"><span>            T<span style="color:#f92672">=</span>double
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Compiler returned: <span style="color:#ae81ff">2</span>
</span></span></code></pre></div><p>So for once msvc is actually the best one ;) (but just go back one version and we&rsquo;r back to the text-wall again!)</p>




      

      
    </article>
    
    
      

    
  </div>

    <footer>
  

<div class="social-icons">
  
    
    
      
      <a href="https://twitter.com/wc_duck" name="twitter">
        <em class="fab fa-twitter"></em>
      </a>
    
       &nbsp;&ndash;&nbsp;
      <a href="https://mastodon.gamedev.place/@wcduck" name="mastodon">
        <em class="fab fa-mastodon"></em>
      </a>
    
       &nbsp;&ndash;&nbsp;
      <a href="https://github.com/wc-duck" name="github">
        <em class="fab fa-github"></em>
      </a>
    
       &nbsp;&ndash;&nbsp;
      <a href="mailto:fredrik.kihlander@gmail.com" name="mail">
        <em class="fa fa-envelope"></em>
      </a>
    
       &nbsp;&ndash;&nbsp;
      <a href="index.xml" name="rss">
        <em class="fas fa-rss"></em>
      </a>
    
  

  
</div>


  
  <div class="container">
    <p class="credits copyright">
      <a href="https://kihlander.net/about"></a>
      &nbsp;&copy;
      2025
      
        &nbsp;/&nbsp;
        <a href="https://kihlander.net/">What could possibly go wrong?</a>
      
      &nbsp;&ndash;&nbsp;
      <em class="fas fa-moon" id="dark-mode-toggle"></em>
    </p>

    <p class="credits theme-by">
      Powered By <a href="https://gohugo.io">Hugo</a>&nbsp;
      Theme
      <a href="https://github.com/matsuyoshi30/harbor">Harbor</a>
    </p>
  </div>
</footer>

  </body>
</html>
